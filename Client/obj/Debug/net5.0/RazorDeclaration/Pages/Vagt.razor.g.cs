// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace festivalbooking.Client.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using festivalbooking.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\_Imports.razor"
using festivalbooking.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\Pages\Vagt.razor"
using festivalbooking.Shared;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/vagt")]
    public partial class Vagt : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 149 "C:\Users\oelle\Documents\GitHub\dapperapi\Client\Pages\Vagt.razor"
      
    private bool isEdit = false; 
private vagtDTO[] vagter;

private opgaveDTO[] områder;

private vagt_statusDTO [] status;
private vagtDTO vagt = new vagtDTO();
protected override async Task OnInitializedAsync()
{
    vagter = await Http.GetFromJsonAsync<vagtDTO[]>("api/vagt");
    områder = await Http.GetFromJsonAsync<opgaveDTO[]>("api/omrader");
    status = await Http.GetFromJsonAsync<vagt_statusDTO[]>("api/status");
}
 private async Task sortVagterByområde()
    {
        vagter = await Http.GetFromJsonAsync<vagtDTO[]>("api/omrader/sort");
        //await OnInitializedAsync();

    }

   
       private async Task sortVagterByAntal()
    {
        vagter = await Http.GetFromJsonAsync<vagtDTO[]>("api/antal/sort");
        //await OnInitializedAsync();

    }


 private async Task DeleteVagt(int? id)
    {
      isEdit = false;
     
    await Http.DeleteAsync($"api/vagt/{id}");
    await OnInitializedAsync();
    }

private async Task postVagt(vagtDTO vagt)
{
    await Http.PostAsJsonAsync<vagtDTO>("api/vagt", vagt);
    await OnInitializedAsync();
}
private async Task patchVagt(vagtDTO paraVagt)
{
  
           
        isEdit = false;
    await Http.PutAsJsonAsync<vagtDTO>($"api/vagt/{paraVagt.vagt_id}", paraVagt);
    await OnInitializedAsync();
}
   private void bindOid(opgaveDTO område)
    {
        vagt.opgave_id = område.opgave_id;
        vagt.opgave_navn = område.opgave_navn;
        //Console.WriteLine($"{vagt.område_id}");


    }
    
        
    private async Task låsEllerÅbenVagt(vagtDTO vagt)
    {
    await Http.PutAsJsonAsync<vagtDTO>($"api/las/{vagt.vagt_id}", vagt);
   await OnInitializedAsync();
    }

     
    
       private async Task getVagterByOmråde(int id){
        vagter = await Http.GetFromJsonAsync<vagtDTO[]>($"api/omrade/{id}");
        //await OnInitializedAsync();

    }

    private bool toggleEdit (int? id){
        if (isEdit == true){
            vagt.vagt_id = null;
            vagt.vagt_start = default;
            vagt.vagt_slut = default;
            vagt.opgave_id = 0;
return isEdit = false;
        }
        vagt.vagt_id = id;
        return isEdit = true; 
    }
    

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
#pragma warning restore 1591
