@page "/frivillig"
@using festivalbooking.Shared;
@inject HttpClient Http

           @if (frivillige == null)
           {
               <p><em>Either data is being fetched or something isnt working, lets hope for the former</em></p>
           }
           else
           {
               <table class="repsonsive">
               <thead>
                    <tr>
                    <th>
                       Navn
                    </th>
                    <th>
                       Telefon Nummer 
                    </th>
                    <th>
                        Email
                    </th>
                    <th>
                        Kompetencer
                    </th>
                    </tr>
                </thead>
         
            @foreach (var frivillig in frivillige)
            {
              
                <tbody>
                    <tr>
                        <td>
                        @frivillig.frivillig_navn
                        </td>
                        <td>
                        @frivillig.frivillig_tlf
                        </td>
                        <td>
                        @frivillig.frivillig_email
                        </td>
                        <td>
                            @for (int i = 0; i < frivillig.kompetencer.Count();i++){
                                <ul>@frivillig.kompetencer[i]</ul>
                            }
                        </td>
                    </tr>
                </tbody>
            }
                  </table>
           }
        
@code{
      private doneFrivilligDTO[] frivillige; 
protected override async Task OnInitializedAsync()
{

    frivillige = await Http.GetFromJsonAsync<doneFrivilligDTO[]>("api/vagt/frivillig");
    
}
}



